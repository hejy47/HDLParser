83c80efd30862d862ea8f99ff4045a22d57e3453
v1.3.4 release  (#373)
diff --git a/hdk/cl/examples/cl_dram_dma/design/cl_dma_pcis_slv.sv b/hdk/cl/examples/cl_dram_dma/design/cl_dma_pcis_slv.sv
index de3703f..4575200 100644
--- a/hdk/cl/examples/cl_dram_dma/design/cl_dma_pcis_slv.sv
+++ b/hdk/cl/examples/cl_dram_dma/design/cl_dma_pcis_slv.sv
@@ -30,6 +30,7 @@ module cl_dma_pcis_slv #(parameter SCRB_MAX_ADDR = 64'h3FFFFFFFF, parameter SCRB
     scrb_bus_t.master ddrd_scrb_bus,
 
     axi_bus_t.master sh_cl_dma_pcis_bus,
+    axi_bus_t.master cl_axi_mstr_bus,
 
     axi_bus_t.slave lcl_cl_sh_ddra,
     axi_bus_t.slave lcl_cl_sh_ddrb,
@@ -360,45 +361,45 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
         .S00_AXI_wstrb(sh_cl_dma_pcis_q.wstrb),
         .S00_AXI_wvalid(sh_cl_dma_pcis_q.wvalid),
 
-        .S01_AXI_araddr(64'h0),
+        .S01_AXI_araddr(cl_axi_mstr_bus.araddr),
         .S01_AXI_arburst(2'b1),
         .S01_AXI_arcache(4'b11),
-        .S01_AXI_arid(6'h0),
-        .S01_AXI_arlen(8'h0),
+        .S01_AXI_arid(cl_axi_mstr_bus.arid),
+        .S01_AXI_arlen(cl_axi_mstr_bus.arlen),
         .S01_AXI_arlock(1'b0),
         .S01_AXI_arprot(3'b10),
         .S01_AXI_arqos(4'b0),
-        .S01_AXI_arready(),
+        .S01_AXI_arready(cl_axi_mstr_bus.arready),
         .S01_AXI_arregion(4'b0),
-        .S01_AXI_arsize(3'h0),
-        .S01_AXI_arvalid(1'b0),
-        .S01_AXI_awaddr(64'h0),
+        .S01_AXI_arsize(cl_axi_mstr_bus.arsize),
+        .S01_AXI_arvalid(cl_axi_mstr_bus.arvalid),
+        .S01_AXI_awaddr(cl_axi_mstr_bus.awaddr),
         .S01_AXI_awburst(2'b1),
         .S01_AXI_awcache(4'b11),
-        .S01_AXI_awid(6'h0),
-        .S01_AXI_awlen(8'h0),
+        .S01_AXI_awid(cl_axi_mstr_bus.awid),
+        .S01_AXI_awlen(cl_axi_mstr_bus.awlen),
         .S01_AXI_awlock(1'b0),
         .S01_AXI_awprot(3'b10),
         .S01_AXI_awqos(4'b0),
-        .S01_AXI_awready(),
+        .S01_AXI_awready(cl_axi_mstr_bus.awready),
         .S01_AXI_awregion(4'b0),
-        .S01_AXI_awsize(3'h0),
-        .S01_AXI_awvalid(1'b0),
-        .S01_AXI_bid(),
-        .S01_AXI_bready(1'b0),
-        .S01_AXI_bresp(),
-        .S01_AXI_bvalid(),
-        .S01_AXI_rdata(),
-        .S01_AXI_rid(),
-        .S01_AXI_rlast(),
-        .S01_AXI_rready(1'b0),
-        .S01_AXI_rresp(),
-        .S01_AXI_rvalid(),
-        .S01_AXI_wdata(512'h0),
-        .S01_AXI_wlast(1'b0),
-        .S01_AXI_wready(),
-        .S01_AXI_wstrb(64'h0),
-        .S01_AXI_wvalid(1'b0));
+        .S01_AXI_awsize(cl_axi_mstr_bus.awsize),
+        .S01_AXI_awvalid(cl_axi_mstr_bus.awvalid),
+        .S01_AXI_bid(cl_axi_mstr_bus.bid),
+        .S01_AXI_bready(cl_axi_mstr_bus.bready),
+        .S01_AXI_bresp(cl_axi_mstr_bus.bresp),
+        .S01_AXI_bvalid(cl_axi_mstr_bus.bvalid),
+        .S01_AXI_rdata(cl_axi_mstr_bus.rdata),
+        .S01_AXI_rid(cl_axi_mstr_bus.rid),
+        .S01_AXI_rlast(cl_axi_mstr_bus.rlast),
+        .S01_AXI_rready(cl_axi_mstr_bus.rready),
+        .S01_AXI_rresp(cl_axi_mstr_bus.rresp),
+        .S01_AXI_rvalid(cl_axi_mstr_bus.rvalid),
+        .S01_AXI_wdata(cl_axi_mstr_bus.wdata),
+        .S01_AXI_wlast(cl_axi_mstr_bus.wlast),
+        .S01_AXI_wready(cl_axi_mstr_bus.wready),
+        .S01_AXI_wstrb(cl_axi_mstr_bus.wstrb),
+        .S01_AXI_wvalid(cl_axi_mstr_bus.wvalid));
 
 //---------------------------- 
 // flop the output of interconnect for DDRC 
@@ -501,7 +502,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
          .tst_cfg_ack(ddrc_tst_cfg_bus_q.ack),
          .tst_cfg_rdata(ddrc_tst_cfg_bus_q.rdata), 
 
-         .slv_awid(cl_sh_ddr_q2.awid[5:0]),
+         .slv_awid(cl_sh_ddr_q2.awid[6:0]),
          .slv_awaddr(cl_sh_ddr_q2.awaddr), 
          .slv_awlen(cl_sh_ddr_q2.awlen),
          .slv_awvalid(cl_sh_ddr_q2.awvalid),
@@ -509,20 +510,20 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
          .slv_awuser(11'b0),
          .slv_awready(cl_sh_ddr_q2.awready),
 
-         .slv_wid(6'b0),
+         .slv_wid(7'b0),
          .slv_wdata(cl_sh_ddr_q2.wdata),
          .slv_wstrb(cl_sh_ddr_q2.wstrb),
          .slv_wlast(cl_sh_ddr_q2.wlast),
          .slv_wvalid(cl_sh_ddr_q2.wvalid),
          .slv_wready(cl_sh_ddr_q2.wready),
 
-         .slv_bid(cl_sh_ddr_q2.bid[5:0]),
+         .slv_bid(cl_sh_ddr_q2.bid[6:0]),
          .slv_bresp(cl_sh_ddr_q2.bresp),
          .slv_buser(),
          .slv_bvalid(cl_sh_ddr_q2.bvalid),
          .slv_bready(cl_sh_ddr_q2.bready),
 
-         .slv_arid(cl_sh_ddr_q2.arid[5:0]),
+         .slv_arid(cl_sh_ddr_q2.arid[6:0]),
          .slv_araddr(cl_sh_ddr_q2.araddr), 
          .slv_arlen(cl_sh_ddr_q2.arlen),
          .slv_arvalid(cl_sh_ddr_q2.arvalid),
@@ -530,7 +531,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
          .slv_aruser(11'b0),
          .slv_arready(cl_sh_ddr_q2.arready),        
 
-         .slv_rid(cl_sh_ddr_q2.rid[5:0]),
+         .slv_rid(cl_sh_ddr_q2.rid[6:0]),
          .slv_rdata(cl_sh_ddr_q2.rdata),
          .slv_rresp(cl_sh_ddr_q2.rresp),
          .slv_rlast(cl_sh_ddr_q2.rlast),
@@ -592,8 +593,8 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
      .aclk           (aclk),
      .aresetn        (slr1_sync_aresetn),
                                                                                                                                 
-     .s_axi_awid     ({10'b0, cl_sh_ddr_q3.awid[5:0]}),
-     .s_axi_awaddr   ({cl_sh_ddr_q3.awaddr}),
+     .s_axi_awid     (cl_sh_ddr_q3.awid),
+     .s_axi_awaddr   (cl_sh_ddr_q3.awaddr),
      .s_axi_awlen    (cl_sh_ddr_q3.awlen),
      .s_axi_awsize   (cl_sh_ddr_q3.awsize),
      .s_axi_awvalid  (cl_sh_ddr_q3.awvalid),
@@ -607,7 +608,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
      .s_axi_bresp    (cl_sh_ddr_q3.bresp),
      .s_axi_bvalid   (cl_sh_ddr_q3.bvalid),
      .s_axi_bready   (cl_sh_ddr_q3.bready),
-     .s_axi_arid     ({10'b0, cl_sh_ddr_q3.arid[5:0]}),
+     .s_axi_arid     (cl_sh_ddr_q3.arid),
      .s_axi_araddr   (cl_sh_ddr_q3.araddr),
      .s_axi_arlen    (cl_sh_ddr_q3.arlen),
      .s_axi_arsize   (cl_sh_ddr_q3.arsize),
@@ -796,7 +797,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
        .m_axi_wlast    (lcl_cl_sh_ddra_q3.wlast),  
        .m_axi_wvalid   (lcl_cl_sh_ddra_q3.wvalid), 
        .m_axi_wready   (lcl_cl_sh_ddra_q3.wready), 
-       .m_axi_bid      ({10'b0, lcl_cl_sh_ddra_q3.bid[5:0]}),    
+       .m_axi_bid      (lcl_cl_sh_ddra_q3.bid),    
        .m_axi_bresp    (lcl_cl_sh_ddra_q3.bresp),  
        .m_axi_bvalid   (lcl_cl_sh_ddra_q3.bvalid), 
        .m_axi_bready   (lcl_cl_sh_ddra_q3.bready), 
@@ -812,7 +813,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
        .m_axi_arqos    (),   
        .m_axi_arvalid  (lcl_cl_sh_ddra_q3.arvalid),
        .m_axi_arready  (lcl_cl_sh_ddra_q3.arready),
-       .m_axi_rid      ({10'b0, lcl_cl_sh_ddra_q3.rid[5:0]}),    
+       .m_axi_rid      (lcl_cl_sh_ddra_q3.rid),    
        .m_axi_rdata    (lcl_cl_sh_ddra_q3.rdata),  
        .m_axi_rresp    (lcl_cl_sh_ddra_q3.rresp),  
        .m_axi_rlast    (lcl_cl_sh_ddra_q3.rlast),  
@@ -857,7 +858,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
          .tst_cfg_ack(ddra_tst_cfg_bus_q.ack),
          .tst_cfg_rdata(ddra_tst_cfg_bus_q.rdata),
 
-         .slv_awid(lcl_cl_sh_ddra_q3.awid[5:0]),
+         .slv_awid(lcl_cl_sh_ddra_q3.awid[6:0]),
          .slv_awaddr(lcl_cl_sh_ddra_q3.awaddr), 
          .slv_awlen(lcl_cl_sh_ddra_q3.awlen),
          .slv_awsize(lcl_cl_sh_ddra_q3.awsize),
@@ -865,20 +866,20 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
          .slv_awuser(11'b0),
          .slv_awready(lcl_cl_sh_ddra_q3.awready),
 
-         .slv_wid(6'b0),
+         .slv_wid(7'b0),
          .slv_wdata(lcl_cl_sh_ddra_q3.wdata),
          .slv_wstrb(lcl_cl_sh_ddra_q3.wstrb),
          .slv_wlast(lcl_cl_sh_ddra_q3.wlast),
          .slv_wvalid(lcl_cl_sh_ddra_q3.wvalid),
          .slv_wready(lcl_cl_sh_ddra_q3.wready),
 
-         .slv_bid(lcl_cl_sh_ddra_q3.bid[5:0]),
+         .slv_bid(lcl_cl_sh_ddra_q3.bid[6:0]),
          .slv_bresp(lcl_cl_sh_ddra_q3.bresp),
          .slv_buser(),
          .slv_bvalid(lcl_cl_sh_ddra_q3.bvalid),
          .slv_bready(lcl_cl_sh_ddra_q3.bready),
 
-         .slv_arid(lcl_cl_sh_ddra_q3.arid[5:0]),
+         .slv_arid(lcl_cl_sh_ddra_q3.arid[6:0]),
          .slv_araddr(lcl_cl_sh_ddra_q3.araddr), 
          .slv_arlen(lcl_cl_sh_ddra_q3.arlen),
          .slv_arsize(lcl_cl_sh_ddra_q3.arsize),
@@ -886,7 +887,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
          .slv_aruser(11'b0),
          .slv_arready(lcl_cl_sh_ddra_q3.arready),        
 
-         .slv_rid(lcl_cl_sh_ddra_q3.rid[5:0]),
+         .slv_rid(lcl_cl_sh_ddra_q3.rid[6:0]),
          .slv_rdata(lcl_cl_sh_ddra_q3.rdata),
          .slv_rresp(lcl_cl_sh_ddra_q3.rresp),
          .slv_rlast(lcl_cl_sh_ddra_q3.rlast),
@@ -1089,7 +1090,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
        .m_axi_wlast    (lcl_cl_sh_ddrb_q3.wlast),  
        .m_axi_wvalid   (lcl_cl_sh_ddrb_q3.wvalid), 
        .m_axi_wready   (lcl_cl_sh_ddrb_q3.wready), 
-       .m_axi_bid      ({10'b0, lcl_cl_sh_ddrb_q3.bid[5:0]}),    
+       .m_axi_bid      (lcl_cl_sh_ddrb_q3.bid),    
        .m_axi_bresp    (lcl_cl_sh_ddrb_q3.bresp),  
        .m_axi_bvalid   (lcl_cl_sh_ddrb_q3.bvalid), 
        .m_axi_bready   (lcl_cl_sh_ddrb_q3.bready), 
@@ -1105,7 +1106,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
        .m_axi_arqos    (), 
        .m_axi_arvalid  (lcl_cl_sh_ddrb_q3.arvalid),
        .m_axi_arready  (lcl_cl_sh_ddrb_q3.arready),
-       .m_axi_rid      ({10'b0, lcl_cl_sh_ddrb_q3.rid[5:0]}),    
+       .m_axi_rid      (lcl_cl_sh_ddrb_q3.rid),    
        .m_axi_rdata    (lcl_cl_sh_ddrb_q3.rdata),  
        .m_axi_rresp    (lcl_cl_sh_ddrb_q3.rresp),  
        .m_axi_rlast    (lcl_cl_sh_ddrb_q3.rlast),  
@@ -1150,7 +1151,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
          .tst_cfg_ack(ddrb_tst_cfg_bus_q.ack),
          .tst_cfg_rdata(ddrb_tst_cfg_bus_q.rdata),
 
-         .slv_awid(lcl_cl_sh_ddrb_q3.awid[5:0]),
+         .slv_awid(lcl_cl_sh_ddrb_q3.awid[6:0]),
          .slv_awaddr(lcl_cl_sh_ddrb_q3.awaddr), 
          .slv_awlen(lcl_cl_sh_ddrb_q3.awlen),
          .slv_awsize(lcl_cl_sh_ddrb_q3.awsize),
@@ -1158,20 +1159,20 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
          .slv_awuser(11'b0),
          .slv_awready(lcl_cl_sh_ddrb_q3.awready),
 
-         .slv_wid(6'b0),
+         .slv_wid(7'b0),
          .slv_wdata(lcl_cl_sh_ddrb_q3.wdata),
          .slv_wstrb(lcl_cl_sh_ddrb_q3.wstrb),
          .slv_wlast(lcl_cl_sh_ddrb_q3.wlast),
          .slv_wvalid(lcl_cl_sh_ddrb_q3.wvalid),
          .slv_wready(lcl_cl_sh_ddrb_q3.wready),
 
-         .slv_bid(lcl_cl_sh_ddrb_q3.bid[5:0]),
+         .slv_bid(lcl_cl_sh_ddrb_q3.bid[6:0]),
          .slv_bresp(lcl_cl_sh_ddrb_q3.bresp),
          .slv_buser(),
          .slv_bvalid(lcl_cl_sh_ddrb_q3.bvalid),
          .slv_bready(lcl_cl_sh_ddrb_q3.bready),
 
-         .slv_arid(lcl_cl_sh_ddrb_q3.arid[5:0]),
+         .slv_arid(lcl_cl_sh_ddrb_q3.arid[6:0]),
          .slv_araddr(lcl_cl_sh_ddrb_q3.araddr), 
          .slv_arlen(lcl_cl_sh_ddrb_q3.arlen),
          .slv_arsize(lcl_cl_sh_ddrb_q3.arsize),
@@ -1179,7 +1180,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
          .slv_aruser(11'b0),
          .slv_arready(lcl_cl_sh_ddrb_q3.arready),        
 
-         .slv_rid(lcl_cl_sh_ddrb_q3.rid[5:0]),
+         .slv_rid(lcl_cl_sh_ddrb_q3.rid[6:0]),
          .slv_rdata(lcl_cl_sh_ddrb_q3.rdata),
          .slv_rresp(lcl_cl_sh_ddrb_q3.rresp),
          .slv_rlast(lcl_cl_sh_ddrb_q3.rlast),
@@ -1383,7 +1384,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
        .m_axi_wlast    (lcl_cl_sh_ddrd_q3.wlast),  
        .m_axi_wvalid   (lcl_cl_sh_ddrd_q3.wvalid), 
        .m_axi_wready   (lcl_cl_sh_ddrd_q3.wready), 
-       .m_axi_bid      ({10'b0, lcl_cl_sh_ddrd_q3.bid[5:0]}),    
+       .m_axi_bid      (lcl_cl_sh_ddrd_q3.bid),    
        .m_axi_bresp    (lcl_cl_sh_ddrd_q3.bresp),  
        .m_axi_bvalid   (lcl_cl_sh_ddrd_q3.bvalid), 
        .m_axi_bready   (lcl_cl_sh_ddrd_q3.bready), 
@@ -1399,7 +1400,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
        .m_axi_arqos    (),  
        .m_axi_arvalid  (lcl_cl_sh_ddrd_q3.arvalid),
        .m_axi_arready  (lcl_cl_sh_ddrd_q3.arready),
-       .m_axi_rid      ({10'b0, lcl_cl_sh_ddrd_q3.rid[5:0]}),    
+       .m_axi_rid      (lcl_cl_sh_ddrd_q3.rid),    
        .m_axi_rdata    (lcl_cl_sh_ddrd_q3.rdata),  
        .m_axi_rresp    (lcl_cl_sh_ddrd_q3.rresp),  
        .m_axi_rlast    (lcl_cl_sh_ddrd_q3.rlast),  
@@ -1444,7 +1445,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
          .tst_cfg_ack(ddrd_tst_cfg_bus_q.ack),
          .tst_cfg_rdata(ddrd_tst_cfg_bus_q.rdata),
 
-         .slv_awid(lcl_cl_sh_ddrd_q3.awid[5:0]),
+         .slv_awid(lcl_cl_sh_ddrd_q3.awid[6:0]),
          .slv_awaddr(lcl_cl_sh_ddrd_q3.awaddr), 
          .slv_awlen(lcl_cl_sh_ddrd_q3.awlen),
          .slv_awsize(lcl_cl_sh_ddrd_q3.awsize),
@@ -1452,20 +1453,20 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
          .slv_awuser(11'b0),
          .slv_awready(lcl_cl_sh_ddrd_q3.awready),
 
-         .slv_wid(6'b0),
+         .slv_wid(7'b0),
          .slv_wdata(lcl_cl_sh_ddrd_q3.wdata),
          .slv_wstrb(lcl_cl_sh_ddrd_q3.wstrb),
          .slv_wlast(lcl_cl_sh_ddrd_q3.wlast),
          .slv_wvalid(lcl_cl_sh_ddrd_q3.wvalid),
          .slv_wready(lcl_cl_sh_ddrd_q3.wready),
 
-         .slv_bid(lcl_cl_sh_ddrd_q3.bid[5:0]),
+         .slv_bid(lcl_cl_sh_ddrd_q3.bid[6:0]),
          .slv_bresp(lcl_cl_sh_ddrd_q3.bresp),
          .slv_buser(),
          .slv_bvalid(lcl_cl_sh_ddrd_q3.bvalid),
          .slv_bready(lcl_cl_sh_ddrd_q3.bready),
 
-         .slv_arid(lcl_cl_sh_ddrd_q3.arid[5:0]),
+         .slv_arid(lcl_cl_sh_ddrd_q3.arid[6:0]),
          .slv_araddr(lcl_cl_sh_ddrd_q3.araddr), 
          .slv_arlen(lcl_cl_sh_ddrd_q3.arlen),
          .slv_arsize(lcl_cl_sh_ddrd_q3.arsize),         
@@ -1473,7 +1474,7 @@ lib_pipe #(.WIDTH(1), .STAGES(4)) SLR2_PIPE_RST_N (.clk(aclk), .rst_n(1'b1), .in
          .slv_aruser(11'b0),
          .slv_arready(lcl_cl_sh_ddrd_q3.arready),        
 
-         .slv_rid(lcl_cl_sh_ddrd_q3.rid[5:0]),
+         .slv_rid(lcl_cl_sh_ddrd_q3.rid[6:0]),
          .slv_rdata(lcl_cl_sh_ddrd_q3.rdata),
          .slv_rresp(lcl_cl_sh_ddrd_q3.rresp),
          .slv_rlast(lcl_cl_sh_ddrd_q3.rlast),